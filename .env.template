# Restore PG used by restore-indexer and restore-service runtime state.
REZ_RESTORE_PG_URL=postgres://rez_restore_service_rw:rez_restore_service_dev@127.0.0.1:5433/rez_restore

# Restore service HTTP port.
PORT=3100

# RS-02 shared auth token verification settings.
RRS_AUTH_SIGNING_KEY=rez_restore_dev_signing_key
RRS_AUTH_TOKEN_CLOCK_SKEW_SECONDS=30
# Optional issuer pin. Leave empty to disable issuer pinning.
RRS_AUTH_EXPECTED_ISSUER=rez-auth-control-plane

# RS-09 execute defaults and safety limits.
RRS_EXECUTE_DEFAULT_CHUNK_SIZE=100
RRS_EXECUTE_MAX_ROWS=10000
RRS_EXECUTE_ELEVATED_SKIP_RATIO_PERCENT=20
# 0 disables per-attempt chunk limits; >0 pauses jobs for resume after this
# many chunks are processed in one execute/resume attempt.
RRS_EXECUTE_MAX_CHUNKS_PER_ATTEMPT=0
# RS-11 media restore limits and retry behavior.
RRS_MEDIA_CHUNK_SIZE=25
RRS_MEDIA_MAX_ITEMS=1000
RRS_MEDIA_MAX_BYTES=104857600
RRS_MEDIA_MAX_RETRY_ATTEMPTS=3

# RS-12 evidence signing and immutable-storage metadata.
RRS_EVIDENCE_SIGNER_KEY_ID=rrs-dev-ed25519-v1
# Optional PEM values (supports literal \\n sequences).
# If unset, restore-service uses an internal development Ed25519 keypair.
RRS_EVIDENCE_SIGNING_PRIVATE_KEY_PEM=
RRS_EVIDENCE_SIGNING_PUBLIC_KEY_PEM=
RRS_EVIDENCE_IMMUTABLE_WORM_ENABLED=false
RRS_EVIDENCE_IMMUTABLE_RETENTION_CLASS=standard-30d

# Canonical tenant/instance/source mappings used for scope enforcement.
# JSON array shape:
# [{"tenant_id":"tenant-acme","instance_id":"sn-dev-01","source":"sn://acme-dev.service-now.com"}]
RRS_SOURCE_MAPPINGS_JSON=[]
